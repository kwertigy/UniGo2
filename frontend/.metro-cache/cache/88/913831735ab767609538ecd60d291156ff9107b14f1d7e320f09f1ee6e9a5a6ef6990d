{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"apiService\", {\n    enumerable: true,\n    get: function () {\n      return apiService;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://rideshare-hub-127.preview.emergentagent.com';\n  class ApiService {\n    constructor() {\n      this.baseUrl = `${API_BASE_URL}/api`;\n    }\n    async request(endpoint, options) {\n      const url = `${this.baseUrl}${endpoint}`;\n      console.log(`[API] ${options?.method || 'GET'} ${url}`);\n      try {\n        const response = await fetch(url, Object.assign({}, options, {\n          headers: Object.assign({\n            'Content-Type': 'application/json'\n          }, options?.headers)\n        }));\n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error(`[API] Error ${response.status}: ${errorText}`);\n          throw new Error(`API Error: ${response.status} - ${errorText}`);\n        }\n        const data = await response.json();\n        console.log(`[API] Response:`, data);\n        return data;\n      } catch (error) {\n        console.error(`[API] Request failed:`, error);\n        throw error;\n      }\n    }\n\n    // User endpoints\n    async createUser(payload) {\n      return this.request('/users', {\n        method: 'POST',\n        body: JSON.stringify(payload)\n      });\n    }\n    async getUser(userId) {\n      return this.request(`/users/${userId}`);\n    }\n    async updateDrivingStatus(userId, isDriving) {\n      return this.request(`/users/${userId}/driving-status?is_driving=${isDriving}`, {\n        method: 'PUT'\n      });\n    }\n    async getActiveDrivers() {\n      return this.request('/users/active-drivers/list');\n    }\n\n    // Driver Routes endpoints\n    async createDriverRoute(payload) {\n      return this.request('/driver-routes', {\n        method: 'POST',\n        body: JSON.stringify(payload)\n      });\n    }\n    async getActiveRoutes() {\n      return this.request('/driver-routes/active');\n    }\n    async deactivateRoute(routeId) {\n      return this.request(`/driver-routes/${routeId}/deactivate`, {\n        method: 'PUT'\n      });\n    }\n\n    // Ride Request endpoints (Handshake)\n    async createRideRequest(payload) {\n      return this.request('/ride-requests', {\n        method: 'POST',\n        body: JSON.stringify(payload)\n      });\n    }\n    async getDriverRequests(driverId) {\n      return this.request(`/ride-requests/driver/${driverId}`);\n    }\n    async acceptRideRequest(requestId) {\n      return this.request(`/ride-requests/${requestId}/accept`, {\n        method: 'PUT'\n      });\n    }\n    async rejectRideRequest(requestId) {\n      return this.request(`/ride-requests/${requestId}/reject`, {\n        method: 'PUT'\n      });\n    }\n\n    // Health check\n    async healthCheck() {\n      return this.request('/health');\n    }\n  }\n  const apiService = new ApiService();\n});","lineCount":104,"map":[[7,2,201,0,"Object"],[7,8,201,0],[7,9,201,0,"defineProperty"],[7,23,201,0],[7,24,201,0,"exports"],[7,31,201,0],[8,4,201,0,"enumerable"],[8,14,201,0],[9,4,201,0,"get"],[9,7,201,0],[9,18,201,0,"get"],[9,19,201,0],[10,6,201,0],[10,13,201,0,"apiService"],[10,23,201,0],[11,4,201,0],[12,2,201,0],[13,2,201,43],[13,6,201,43,"_expoVirtualEnv"],[13,21,201,43],[13,24,201,43,"require"],[13,31,201,43],[13,32,201,43,"_dependencyMap"],[13,46,201,43],[14,2,3,0],[14,8,3,6,"API_BASE_URL"],[14,20,3,18],[14,23,3,21,"_expoVirtualEnv"],[14,38,3,21],[14,39,3,21,"env"],[14,42,3,21],[14,43,3,21,"EXPO_PUBLIC_BACKEND_URL"],[14,66,3,21],[14,70,3,60],[14,123,3,113],[15,2,96,0],[15,8,96,6,"ApiService"],[15,18,96,16],[15,19,96,17],[16,4,99,2,"constructor"],[16,15,99,13,"constructor"],[16,16,99,13],[16,18,99,16],[17,6,100,4],[17,10,100,8],[17,11,100,9,"baseUrl"],[17,18,100,16],[17,21,100,19],[17,24,100,22,"API_BASE_URL"],[17,36,100,34],[17,42,100,40],[18,4,101,2],[19,4,103,2],[19,10,103,16,"request"],[19,17,103,23,"request"],[19,18,103,27,"endpoint"],[19,26,103,43],[19,28,103,45,"options"],[19,35,103,66],[19,37,103,80],[20,6,104,4],[20,12,104,10,"url"],[20,15,104,13],[20,18,104,16],[20,21,104,19],[20,25,104,23],[20,26,104,24,"baseUrl"],[20,33,104,31],[20,36,104,34,"endpoint"],[20,44,104,42],[20,46,104,44],[21,6,105,4,"console"],[21,13,105,11],[21,14,105,12,"log"],[21,17,105,15],[21,18,105,16],[21,27,105,25,"options"],[21,34,105,32],[21,36,105,34,"method"],[21,42,105,40],[21,46,105,44],[21,51,105,49],[21,55,105,53,"url"],[21,58,105,56],[21,60,105,58],[21,61,105,59],[22,6,107,4],[22,10,107,8],[23,8,108,6],[23,14,108,12,"response"],[23,22,108,20],[23,25,108,23],[23,31,108,29,"fetch"],[23,36,108,34],[23,37,108,35,"url"],[23,40,108,38],[23,42,108,38,"Object"],[23,48,108,38],[23,49,108,38,"assign"],[23,55,108,38],[23,60,109,11,"options"],[23,67,109,18],[24,10,110,8,"headers"],[24,17,110,15],[24,19,110,15,"Object"],[24,25,110,15],[24,26,110,15,"assign"],[24,32,110,15],[25,12,111,10],[25,26,111,24],[25,28,111,26],[26,10,111,44],[26,13,112,13,"options"],[26,20,112,20],[26,22,112,22,"headers"],[26,29,112,29],[27,8,113,9],[27,10,114,7],[27,11,114,8],[28,8,116,6],[28,12,116,10],[28,13,116,11,"response"],[28,21,116,19],[28,22,116,20,"ok"],[28,24,116,22],[28,26,116,24],[29,10,117,8],[29,16,117,14,"errorText"],[29,25,117,23],[29,28,117,26],[29,34,117,32,"response"],[29,42,117,40],[29,43,117,41,"text"],[29,47,117,45],[29,48,117,46],[29,49,117,47],[30,10,118,8,"console"],[30,17,118,15],[30,18,118,16,"error"],[30,23,118,21],[30,24,118,22],[30,39,118,37,"response"],[30,47,118,45],[30,48,118,46,"status"],[30,54,118,52],[30,59,118,57,"errorText"],[30,68,118,66],[30,70,118,68],[30,71,118,69],[31,10,119,8],[31,16,119,14],[31,20,119,18,"Error"],[31,25,119,23],[31,26,119,24],[31,40,119,38,"response"],[31,48,119,46],[31,49,119,47,"status"],[31,55,119,53],[31,61,119,59,"errorText"],[31,70,119,68],[31,72,119,70],[31,73,119,71],[32,8,120,6],[33,8,122,6],[33,14,122,12,"data"],[33,18,122,16],[33,21,122,19],[33,27,122,25,"response"],[33,35,122,33],[33,36,122,34,"json"],[33,40,122,38],[33,41,122,39],[33,42,122,40],[34,8,123,6,"console"],[34,15,123,13],[34,16,123,14,"log"],[34,19,123,17],[34,20,123,18],[34,37,123,35],[34,39,123,37,"data"],[34,43,123,41],[34,44,123,42],[35,8,124,6],[35,15,124,13,"data"],[35,19,124,17],[36,6,125,4],[36,7,125,5],[36,8,125,6],[36,15,125,13,"error"],[36,20,125,18],[36,22,125,20],[37,8,126,6,"console"],[37,15,126,13],[37,16,126,14,"error"],[37,21,126,19],[37,22,126,20],[37,45,126,43],[37,47,126,45,"error"],[37,52,126,50],[37,53,126,51],[38,8,127,6],[38,14,127,12,"error"],[38,19,127,17],[39,6,128,4],[40,4,129,2],[42,4,131,2],[43,4,132,2],[43,10,132,8,"createUser"],[43,20,132,18,"createUser"],[43,21,132,19,"payload"],[43,28,132,45],[43,30,132,62],[44,6,133,4],[44,13,133,11],[44,17,133,15],[44,18,133,16,"request"],[44,25,133,23],[44,26,133,30],[44,34,133,38],[44,36,133,40],[45,8,134,6,"method"],[45,14,134,12],[45,16,134,14],[45,22,134,20],[46,8,135,6,"body"],[46,12,135,10],[46,14,135,12,"JSON"],[46,18,135,16],[46,19,135,17,"stringify"],[46,28,135,26],[46,29,135,27,"payload"],[46,36,135,34],[47,6,136,4],[47,7,136,5],[47,8,136,6],[48,4,137,2],[49,4,139,2],[49,10,139,8,"getUser"],[49,17,139,15,"getUser"],[49,18,139,16,"userId"],[49,24,139,30],[49,26,139,47],[50,6,140,4],[50,13,140,11],[50,17,140,15],[50,18,140,16,"request"],[50,25,140,23],[50,26,140,30],[50,36,140,40,"userId"],[50,42,140,46],[50,44,140,48],[50,45,140,49],[51,4,141,2],[52,4,143,2],[52,10,143,8,"updateDrivingStatus"],[52,29,143,27,"updateDrivingStatus"],[52,30,143,28,"userId"],[52,36,143,42],[52,38,143,44,"isDriving"],[52,47,143,62],[52,49,143,95],[53,6,144,4],[53,13,144,11],[53,17,144,15],[53,18,144,16,"request"],[53,25,144,23],[53,26,144,46],[53,36,144,56,"userId"],[53,42,144,62],[53,72,144,92,"isDriving"],[53,81,144,101],[53,83,144,103],[53,85,144,105],[54,8,145,6,"method"],[54,14,145,12],[54,16,145,14],[55,6,146,4],[55,7,146,5],[55,8,146,6],[56,4,147,2],[57,4,149,2],[57,10,149,8,"getActiveDrivers"],[57,26,149,24,"getActiveDrivers"],[57,27,149,24],[57,29,149,57],[58,6,150,4],[58,13,150,11],[58,17,150,15],[58,18,150,16,"request"],[58,25,150,23],[58,26,150,45],[58,54,150,73],[58,55,150,74],[59,4,151,2],[61,4,153,2],[62,4,154,2],[62,10,154,8,"createDriverRoute"],[62,27,154,25,"createDriverRoute"],[62,28,154,26,"payload"],[62,35,154,53],[62,37,154,77],[63,6,155,4],[63,13,155,11],[63,17,155,15],[63,18,155,16,"request"],[63,25,155,23],[63,26,155,37],[63,42,155,53],[63,44,155,55],[64,8,156,6,"method"],[64,14,156,12],[64,16,156,14],[64,22,156,20],[65,8,157,6,"body"],[65,12,157,10],[65,14,157,12,"JSON"],[65,18,157,16],[65,19,157,17,"stringify"],[65,28,157,26],[65,29,157,27,"payload"],[65,36,157,34],[66,6,158,4],[66,7,158,5],[66,8,158,6],[67,4,159,2],[68,4,161,2],[68,10,161,8,"getActiveRoutes"],[68,25,161,23,"getActiveRoutes"],[68,26,161,23],[68,28,161,50],[69,6,162,4],[69,13,162,11],[69,17,162,15],[69,18,162,16,"request"],[69,25,162,23],[69,26,162,39],[69,49,162,62],[69,50,162,63],[70,4,163,2],[71,4,165,2],[71,10,165,8,"deactivateRoute"],[71,25,165,23,"deactivateRoute"],[71,26,165,24,"routeId"],[71,33,165,39],[71,35,165,72],[72,6,166,4],[72,13,166,11],[72,17,166,15],[72,18,166,16,"request"],[72,25,166,23],[72,26,166,46],[72,44,166,64,"routeId"],[72,51,166,71],[72,64,166,84],[72,66,166,86],[73,8,167,6,"method"],[73,14,167,12],[73,16,167,14],[74,6,168,4],[74,7,168,5],[74,8,168,6],[75,4,169,2],[77,4,171,2],[78,4,172,2],[78,10,172,8,"createRideRequest"],[78,27,172,25,"createRideRequest"],[78,28,172,26,"payload"],[78,35,172,59],[78,37,172,83],[79,6,173,4],[79,13,173,11],[79,17,173,15],[79,18,173,16,"request"],[79,25,173,23],[79,26,173,37],[79,42,173,53],[79,44,173,55],[80,8,174,6,"method"],[80,14,174,12],[80,16,174,14],[80,22,174,20],[81,8,175,6,"body"],[81,12,175,10],[81,14,175,12,"JSON"],[81,18,175,16],[81,19,175,17,"stringify"],[81,28,175,26],[81,29,175,27,"payload"],[81,36,175,34],[82,6,176,4],[82,7,176,5],[82,8,176,6],[83,4,177,2],[84,4,179,2],[84,10,179,8,"getDriverRequests"],[84,27,179,25,"getDriverRequests"],[84,28,179,26,"driverId"],[84,36,179,42],[84,38,179,82],[85,6,180,4],[85,13,180,11],[85,17,180,15],[85,18,180,16,"request"],[85,25,180,23],[85,26,180,53],[85,51,180,78,"driverId"],[85,59,180,86],[85,61,180,88],[85,62,180,89],[86,4,181,2],[87,4,183,2],[87,10,183,8,"acceptRideRequest"],[87,27,183,25,"acceptRideRequest"],[87,28,183,26,"requestId"],[87,37,183,43],[87,39,183,76],[88,6,184,4],[88,13,184,11],[88,17,184,15],[88,18,184,16,"request"],[88,25,184,23],[88,26,184,46],[88,44,184,64,"requestId"],[88,53,184,73],[88,62,184,82],[88,64,184,84],[89,8,185,6,"method"],[89,14,185,12],[89,16,185,14],[90,6,186,4],[90,7,186,5],[90,8,186,6],[91,4,187,2],[92,4,189,2],[92,10,189,8,"rejectRideRequest"],[92,27,189,25,"rejectRideRequest"],[92,28,189,26,"requestId"],[92,37,189,43],[92,39,189,76],[93,6,190,4],[93,13,190,11],[93,17,190,15],[93,18,190,16,"request"],[93,25,190,23],[93,26,190,46],[93,44,190,64,"requestId"],[93,53,190,73],[93,62,190,82],[93,64,190,84],[94,8,191,6,"method"],[94,14,191,12],[94,16,191,14],[95,6,192,4],[95,7,192,5],[95,8,192,6],[96,4,193,2],[98,4,195,2],[99,4,196,2],[99,10,196,8,"healthCheck"],[99,21,196,19,"healthCheck"],[99,22,196,19],[99,24,196,51],[100,6,197,4],[100,13,197,11],[100,17,197,15],[100,18,197,16,"request"],[100,25,197,23],[100,26,197,44],[100,35,197,53],[100,36,197,54],[101,4,198,2],[102,2,199,0],[103,2,201,7],[103,8,201,13,"apiService"],[103,18,201,23],[103,21,201,26],[103,25,201,30,"ApiService"],[103,35,201,40],[103,36,201,41],[103,37,201,42],[104,0,201,43],[104,3]],"functionMap":{"names":["<global>","ApiService","ApiService#constructor","ApiService#request","ApiService#createUser","ApiService#getUser","ApiService#updateDrivingStatus","ApiService#getActiveDrivers","ApiService#createDriverRoute","ApiService#getActiveRoutes","ApiService#deactivateRoute","ApiService#createRideRequest","ApiService#getDriverRequests","ApiService#acceptRideRequest","ApiService#rejectRideRequest","ApiService#healthCheck"],"mappings":"AAA;AC+F;ECG;GDE;EEE;GF0B;EGG;GHK;EIE;GJE;EKE;GLI;EME;GNE;EOG;GPK;EQE;GRE;ESE;GTI;EUG;GVK;EWE;GXE;EYE;GZI;EaE;GbI;EcG;GdE;CDC"},"hasCjsExports":false},"type":"js/module"}]}