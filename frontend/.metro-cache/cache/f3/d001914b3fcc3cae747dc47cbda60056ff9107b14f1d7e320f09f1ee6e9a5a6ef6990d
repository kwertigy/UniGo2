{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"apiService\", {\n    enumerable: true,\n    get: function () {\n      return apiService;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://rideshare-hub-127.preview.emergentagent.com';\n  class ApiService {\n    constructor() {\n      this.baseUrl = `${API_BASE_URL}/api`;\n    }\n    async request(endpoint, options) {\n      const url = `${this.baseUrl}${endpoint}`;\n      console.log(`[API] ${options?.method || 'GET'} ${url}`);\n      try {\n        const response = await fetch(url, {\n          ...options,\n          headers: {\n            'Content-Type': 'application/json',\n            ...options?.headers\n          }\n        });\n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error(`[API] Error ${response.status}: ${errorText}`);\n          throw new Error(`API Error: ${response.status} - ${errorText}`);\n        }\n        const data = await response.json();\n        console.log(`[API] Response:`, data);\n        return data;\n      } catch (error) {\n        console.error(`[API] Request failed:`, error);\n        throw error;\n      }\n    }\n\n    // User endpoints\n    async createUser(payload) {\n      return this.request('/users', {\n        method: 'POST',\n        body: JSON.stringify(payload)\n      });\n    }\n    async getUser(userId) {\n      return this.request(`/users/${userId}`);\n    }\n    async updateDrivingStatus(userId, isDriving) {\n      return this.request(`/users/${userId}/driving-status?is_driving=${isDriving}`, {\n        method: 'PUT'\n      });\n    }\n    async getActiveDrivers() {\n      return this.request('/users/active-drivers/list');\n    }\n\n    // Driver Routes endpoints\n    async createDriverRoute(payload) {\n      return this.request('/driver-routes', {\n        method: 'POST',\n        body: JSON.stringify(payload)\n      });\n    }\n    async getActiveRoutes() {\n      return this.request('/driver-routes/active');\n    }\n    async deactivateRoute(routeId) {\n      return this.request(`/driver-routes/${routeId}/deactivate`, {\n        method: 'PUT'\n      });\n    }\n\n    // Ride Request endpoints (Handshake)\n    async createRideRequest(payload) {\n      return this.request('/ride-requests', {\n        method: 'POST',\n        body: JSON.stringify(payload)\n      });\n    }\n    async getDriverRequests(driverId) {\n      return this.request(`/ride-requests/driver/${driverId}`);\n    }\n    async acceptRideRequest(requestId) {\n      return this.request(`/ride-requests/${requestId}/accept`, {\n        method: 'PUT'\n      });\n    }\n    async rejectRideRequest(requestId) {\n      return this.request(`/ride-requests/${requestId}/reject`, {\n        method: 'PUT'\n      });\n    }\n\n    // Health check\n    async healthCheck() {\n      return this.request('/health');\n    }\n  }\n  const apiService = new ApiService();\n});","lineCount":106,"map":[[7,2,201,0,"Object"],[7,8,201,0],[7,9,201,0,"defineProperty"],[7,23,201,0],[7,24,201,0,"exports"],[7,31,201,0],[8,4,201,0,"enumerable"],[8,14,201,0],[9,4,201,0,"get"],[9,7,201,0],[9,18,201,0,"get"],[9,19,201,0],[10,6,201,0],[10,13,201,0,"apiService"],[10,23,201,0],[11,4,201,0],[12,2,201,0],[13,2,201,43],[13,6,201,43,"_expoVirtualEnv"],[13,21,201,43],[13,24,201,43,"require"],[13,31,201,43],[13,32,201,43,"_dependencyMap"],[13,46,201,43],[14,2,3,0],[14,8,3,6,"API_BASE_URL"],[14,20,3,18],[14,23,3,21,"_expoVirtualEnv"],[14,38,3,21],[14,39,3,21,"env"],[14,42,3,21],[14,43,3,21,"EXPO_PUBLIC_BACKEND_URL"],[14,66,3,21],[14,70,3,60],[14,123,3,113],[15,2,96,0],[15,8,96,6,"ApiService"],[15,18,96,16],[15,19,96,17],[16,4,99,2,"constructor"],[16,15,99,13,"constructor"],[16,16,99,13],[16,18,99,16],[17,6,100,4],[17,10,100,8],[17,11,100,9,"baseUrl"],[17,18,100,16],[17,21,100,19],[17,24,100,22,"API_BASE_URL"],[17,36,100,34],[17,42,100,40],[18,4,101,2],[19,4,103,2],[19,10,103,16,"request"],[19,17,103,23,"request"],[19,18,103,27,"endpoint"],[19,26,103,43],[19,28,103,45,"options"],[19,35,103,66],[19,37,103,80],[20,6,104,4],[20,12,104,10,"url"],[20,15,104,13],[20,18,104,16],[20,21,104,19],[20,25,104,23],[20,26,104,24,"baseUrl"],[20,33,104,31],[20,36,104,34,"endpoint"],[20,44,104,42],[20,46,104,44],[21,6,105,4,"console"],[21,13,105,11],[21,14,105,12,"log"],[21,17,105,15],[21,18,105,16],[21,27,105,25,"options"],[21,34,105,32],[21,36,105,34,"method"],[21,42,105,40],[21,46,105,44],[21,51,105,49],[21,55,105,53,"url"],[21,58,105,56],[21,60,105,58],[21,61,105,59],[22,6,107,4],[22,10,107,8],[23,8,108,6],[23,14,108,12,"response"],[23,22,108,20],[23,25,108,23],[23,31,108,29,"fetch"],[23,36,108,34],[23,37,108,35,"url"],[23,40,108,38],[23,42,108,40],[24,10,109,8],[24,13,109,11,"options"],[24,20,109,18],[25,10,110,8,"headers"],[25,17,110,15],[25,19,110,17],[26,12,111,10],[26,26,111,24],[26,28,111,26],[26,46,111,44],[27,12,112,10],[27,15,112,13,"options"],[27,22,112,20],[27,24,112,22,"headers"],[28,10,113,8],[29,8,114,6],[29,9,114,7],[29,10,114,8],[30,8,116,6],[30,12,116,10],[30,13,116,11,"response"],[30,21,116,19],[30,22,116,20,"ok"],[30,24,116,22],[30,26,116,24],[31,10,117,8],[31,16,117,14,"errorText"],[31,25,117,23],[31,28,117,26],[31,34,117,32,"response"],[31,42,117,40],[31,43,117,41,"text"],[31,47,117,45],[31,48,117,46],[31,49,117,47],[32,10,118,8,"console"],[32,17,118,15],[32,18,118,16,"error"],[32,23,118,21],[32,24,118,22],[32,39,118,37,"response"],[32,47,118,45],[32,48,118,46,"status"],[32,54,118,52],[32,59,118,57,"errorText"],[32,68,118,66],[32,70,118,68],[32,71,118,69],[33,10,119,8],[33,16,119,14],[33,20,119,18,"Error"],[33,25,119,23],[33,26,119,24],[33,40,119,38,"response"],[33,48,119,46],[33,49,119,47,"status"],[33,55,119,53],[33,61,119,59,"errorText"],[33,70,119,68],[33,72,119,70],[33,73,119,71],[34,8,120,6],[35,8,122,6],[35,14,122,12,"data"],[35,18,122,16],[35,21,122,19],[35,27,122,25,"response"],[35,35,122,33],[35,36,122,34,"json"],[35,40,122,38],[35,41,122,39],[35,42,122,40],[36,8,123,6,"console"],[36,15,123,13],[36,16,123,14,"log"],[36,19,123,17],[36,20,123,18],[36,37,123,35],[36,39,123,37,"data"],[36,43,123,41],[36,44,123,42],[37,8,124,6],[37,15,124,13,"data"],[37,19,124,17],[38,6,125,4],[38,7,125,5],[38,8,125,6],[38,15,125,13,"error"],[38,20,125,18],[38,22,125,20],[39,8,126,6,"console"],[39,15,126,13],[39,16,126,14,"error"],[39,21,126,19],[39,22,126,20],[39,45,126,43],[39,47,126,45,"error"],[39,52,126,50],[39,53,126,51],[40,8,127,6],[40,14,127,12,"error"],[40,19,127,17],[41,6,128,4],[42,4,129,2],[44,4,131,2],[45,4,132,2],[45,10,132,8,"createUser"],[45,20,132,18,"createUser"],[45,21,132,19,"payload"],[45,28,132,45],[45,30,132,62],[46,6,133,4],[46,13,133,11],[46,17,133,15],[46,18,133,16,"request"],[46,25,133,23],[46,26,133,30],[46,34,133,38],[46,36,133,40],[47,8,134,6,"method"],[47,14,134,12],[47,16,134,14],[47,22,134,20],[48,8,135,6,"body"],[48,12,135,10],[48,14,135,12,"JSON"],[48,18,135,16],[48,19,135,17,"stringify"],[48,28,135,26],[48,29,135,27,"payload"],[48,36,135,34],[49,6,136,4],[49,7,136,5],[49,8,136,6],[50,4,137,2],[51,4,139,2],[51,10,139,8,"getUser"],[51,17,139,15,"getUser"],[51,18,139,16,"userId"],[51,24,139,30],[51,26,139,47],[52,6,140,4],[52,13,140,11],[52,17,140,15],[52,18,140,16,"request"],[52,25,140,23],[52,26,140,30],[52,36,140,40,"userId"],[52,42,140,46],[52,44,140,48],[52,45,140,49],[53,4,141,2],[54,4,143,2],[54,10,143,8,"updateDrivingStatus"],[54,29,143,27,"updateDrivingStatus"],[54,30,143,28,"userId"],[54,36,143,42],[54,38,143,44,"isDriving"],[54,47,143,62],[54,49,143,95],[55,6,144,4],[55,13,144,11],[55,17,144,15],[55,18,144,16,"request"],[55,25,144,23],[55,26,144,46],[55,36,144,56,"userId"],[55,42,144,62],[55,72,144,92,"isDriving"],[55,81,144,101],[55,83,144,103],[55,85,144,105],[56,8,145,6,"method"],[56,14,145,12],[56,16,145,14],[57,6,146,4],[57,7,146,5],[57,8,146,6],[58,4,147,2],[59,4,149,2],[59,10,149,8,"getActiveDrivers"],[59,26,149,24,"getActiveDrivers"],[59,27,149,24],[59,29,149,57],[60,6,150,4],[60,13,150,11],[60,17,150,15],[60,18,150,16,"request"],[60,25,150,23],[60,26,150,45],[60,54,150,73],[60,55,150,74],[61,4,151,2],[63,4,153,2],[64,4,154,2],[64,10,154,8,"createDriverRoute"],[64,27,154,25,"createDriverRoute"],[64,28,154,26,"payload"],[64,35,154,53],[64,37,154,77],[65,6,155,4],[65,13,155,11],[65,17,155,15],[65,18,155,16,"request"],[65,25,155,23],[65,26,155,37],[65,42,155,53],[65,44,155,55],[66,8,156,6,"method"],[66,14,156,12],[66,16,156,14],[66,22,156,20],[67,8,157,6,"body"],[67,12,157,10],[67,14,157,12,"JSON"],[67,18,157,16],[67,19,157,17,"stringify"],[67,28,157,26],[67,29,157,27,"payload"],[67,36,157,34],[68,6,158,4],[68,7,158,5],[68,8,158,6],[69,4,159,2],[70,4,161,2],[70,10,161,8,"getActiveRoutes"],[70,25,161,23,"getActiveRoutes"],[70,26,161,23],[70,28,161,50],[71,6,162,4],[71,13,162,11],[71,17,162,15],[71,18,162,16,"request"],[71,25,162,23],[71,26,162,39],[71,49,162,62],[71,50,162,63],[72,4,163,2],[73,4,165,2],[73,10,165,8,"deactivateRoute"],[73,25,165,23,"deactivateRoute"],[73,26,165,24,"routeId"],[73,33,165,39],[73,35,165,72],[74,6,166,4],[74,13,166,11],[74,17,166,15],[74,18,166,16,"request"],[74,25,166,23],[74,26,166,46],[74,44,166,64,"routeId"],[74,51,166,71],[74,64,166,84],[74,66,166,86],[75,8,167,6,"method"],[75,14,167,12],[75,16,167,14],[76,6,168,4],[76,7,168,5],[76,8,168,6],[77,4,169,2],[79,4,171,2],[80,4,172,2],[80,10,172,8,"createRideRequest"],[80,27,172,25,"createRideRequest"],[80,28,172,26,"payload"],[80,35,172,59],[80,37,172,83],[81,6,173,4],[81,13,173,11],[81,17,173,15],[81,18,173,16,"request"],[81,25,173,23],[81,26,173,37],[81,42,173,53],[81,44,173,55],[82,8,174,6,"method"],[82,14,174,12],[82,16,174,14],[82,22,174,20],[83,8,175,6,"body"],[83,12,175,10],[83,14,175,12,"JSON"],[83,18,175,16],[83,19,175,17,"stringify"],[83,28,175,26],[83,29,175,27,"payload"],[83,36,175,34],[84,6,176,4],[84,7,176,5],[84,8,176,6],[85,4,177,2],[86,4,179,2],[86,10,179,8,"getDriverRequests"],[86,27,179,25,"getDriverRequests"],[86,28,179,26,"driverId"],[86,36,179,42],[86,38,179,82],[87,6,180,4],[87,13,180,11],[87,17,180,15],[87,18,180,16,"request"],[87,25,180,23],[87,26,180,53],[87,51,180,78,"driverId"],[87,59,180,86],[87,61,180,88],[87,62,180,89],[88,4,181,2],[89,4,183,2],[89,10,183,8,"acceptRideRequest"],[89,27,183,25,"acceptRideRequest"],[89,28,183,26,"requestId"],[89,37,183,43],[89,39,183,76],[90,6,184,4],[90,13,184,11],[90,17,184,15],[90,18,184,16,"request"],[90,25,184,23],[90,26,184,46],[90,44,184,64,"requestId"],[90,53,184,73],[90,62,184,82],[90,64,184,84],[91,8,185,6,"method"],[91,14,185,12],[91,16,185,14],[92,6,186,4],[92,7,186,5],[92,8,186,6],[93,4,187,2],[94,4,189,2],[94,10,189,8,"rejectRideRequest"],[94,27,189,25,"rejectRideRequest"],[94,28,189,26,"requestId"],[94,37,189,43],[94,39,189,76],[95,6,190,4],[95,13,190,11],[95,17,190,15],[95,18,190,16,"request"],[95,25,190,23],[95,26,190,46],[95,44,190,64,"requestId"],[95,53,190,73],[95,62,190,82],[95,64,190,84],[96,8,191,6,"method"],[96,14,191,12],[96,16,191,14],[97,6,192,4],[97,7,192,5],[97,8,192,6],[98,4,193,2],[100,4,195,2],[101,4,196,2],[101,10,196,8,"healthCheck"],[101,21,196,19,"healthCheck"],[101,22,196,19],[101,24,196,51],[102,6,197,4],[102,13,197,11],[102,17,197,15],[102,18,197,16,"request"],[102,25,197,23],[102,26,197,44],[102,35,197,53],[102,36,197,54],[103,4,198,2],[104,2,199,0],[105,2,201,7],[105,8,201,13,"apiService"],[105,18,201,23],[105,21,201,26],[105,25,201,30,"ApiService"],[105,35,201,40],[105,36,201,41],[105,37,201,42],[106,0,201,43],[106,3]],"functionMap":{"names":["<global>","ApiService","ApiService#constructor","ApiService#request","ApiService#createUser","ApiService#getUser","ApiService#updateDrivingStatus","ApiService#getActiveDrivers","ApiService#createDriverRoute","ApiService#getActiveRoutes","ApiService#deactivateRoute","ApiService#createRideRequest","ApiService#getDriverRequests","ApiService#acceptRideRequest","ApiService#rejectRideRequest","ApiService#healthCheck"],"mappings":"AAA;AC+F;ECG;GDE;EEE;GF0B;EGG;GHK;EIE;GJE;EKE;GLI;EME;GNE;EOG;GPK;EQE;GRE;ESE;GTI;EUG;GVK;EWE;GXE;EYE;GZI;EaE;GbI;EcG;GdE;CDC"},"hasCjsExports":false},"type":"js/module"}]}