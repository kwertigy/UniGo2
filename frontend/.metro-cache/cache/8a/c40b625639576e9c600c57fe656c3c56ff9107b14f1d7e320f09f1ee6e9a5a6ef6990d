{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"apiService\", {\n    enumerable: true,\n    get: function () {\n      return apiService;\n    }\n  });\n  const API_BASE_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://rideshare-hub-127.preview.emergentagent.com';\n  class ApiService {\n    constructor() {\n      this.baseUrl = `${API_BASE_URL}/api`;\n    }\n    async request(endpoint, options) {\n      const url = `${this.baseUrl}${endpoint}`;\n      console.log(`[API] ${options?.method || 'GET'} ${url}`);\n      try {\n        const response = await fetch(url, {\n          ...options,\n          headers: {\n            'Content-Type': 'application/json',\n            ...options?.headers\n          }\n        });\n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error(`[API] Error ${response.status}: ${errorText}`);\n          throw new Error(`API Error: ${response.status} - ${errorText}`);\n        }\n        const data = await response.json();\n        console.log(`[API] Response:`, data);\n        return data;\n      } catch (error) {\n        console.error(`[API] Request failed:`, error);\n        throw error;\n      }\n    }\n\n    // User endpoints\n    async createUser(payload) {\n      return this.request('/users', {\n        method: 'POST',\n        body: JSON.stringify(payload)\n      });\n    }\n    async getUser(userId) {\n      return this.request(`/users/${userId}`);\n    }\n    async updateDrivingStatus(userId, isDriving) {\n      return this.request(`/users/${userId}/driving-status?is_driving=${isDriving}`, {\n        method: 'PUT'\n      });\n    }\n    async getActiveDrivers() {\n      return this.request('/users/active-drivers/list');\n    }\n\n    // Driver Routes endpoints\n    async createDriverRoute(payload) {\n      return this.request('/driver-routes', {\n        method: 'POST',\n        body: JSON.stringify(payload)\n      });\n    }\n    async getActiveRoutes() {\n      return this.request('/driver-routes/active');\n    }\n    async deactivateRoute(routeId) {\n      return this.request(`/driver-routes/${routeId}/deactivate`, {\n        method: 'PUT'\n      });\n    }\n\n    // Ride Request endpoints (Handshake)\n    async createRideRequest(payload) {\n      return this.request('/ride-requests', {\n        method: 'POST',\n        body: JSON.stringify(payload)\n      });\n    }\n    async getDriverRequests(driverId) {\n      return this.request(`/ride-requests/driver/${driverId}`);\n    }\n    async acceptRideRequest(requestId) {\n      return this.request(`/ride-requests/${requestId}/accept`, {\n        method: 'PUT'\n      });\n    }\n    async rejectRideRequest(requestId) {\n      return this.request(`/ride-requests/${requestId}/reject`, {\n        method: 'PUT'\n      });\n    }\n\n    // Health check\n    async healthCheck() {\n      return this.request('/health');\n    }\n  }\n  const apiService = new ApiService();\n});","lineCount":105,"map":[[7,2,201,0,"Object"],[7,8,201,0],[7,9,201,0,"defineProperty"],[7,23,201,0],[7,24,201,0,"exports"],[7,31,201,0],[8,4,201,0,"enumerable"],[8,14,201,0],[9,4,201,0,"get"],[9,7,201,0],[9,18,201,0,"get"],[9,19,201,0],[10,6,201,0],[10,13,201,0,"apiService"],[10,23,201,0],[11,4,201,0],[12,2,201,0],[13,2,3,0],[13,8,3,6,"API_BASE_URL"],[13,20,3,18],[13,23,3,21,"process"],[13,30,3,28],[13,31,3,29,"env"],[13,34,3,32],[13,35,3,33,"EXPO_PUBLIC_BACKEND_URL"],[13,58,3,56],[13,62,3,60],[13,115,3,113],[14,2,96,0],[14,8,96,6,"ApiService"],[14,18,96,16],[14,19,96,17],[15,4,99,2,"constructor"],[15,15,99,13,"constructor"],[15,16,99,13],[15,18,99,16],[16,6,100,4],[16,10,100,8],[16,11,100,9,"baseUrl"],[16,18,100,16],[16,21,100,19],[16,24,100,22,"API_BASE_URL"],[16,36,100,34],[16,42,100,40],[17,4,101,2],[18,4,103,2],[18,10,103,16,"request"],[18,17,103,23,"request"],[18,18,103,27,"endpoint"],[18,26,103,43],[18,28,103,45,"options"],[18,35,103,66],[18,37,103,80],[19,6,104,4],[19,12,104,10,"url"],[19,15,104,13],[19,18,104,16],[19,21,104,19],[19,25,104,23],[19,26,104,24,"baseUrl"],[19,33,104,31],[19,36,104,34,"endpoint"],[19,44,104,42],[19,46,104,44],[20,6,105,4,"console"],[20,13,105,11],[20,14,105,12,"log"],[20,17,105,15],[20,18,105,16],[20,27,105,25,"options"],[20,34,105,32],[20,36,105,34,"method"],[20,42,105,40],[20,46,105,44],[20,51,105,49],[20,55,105,53,"url"],[20,58,105,56],[20,60,105,58],[20,61,105,59],[21,6,107,4],[21,10,107,8],[22,8,108,6],[22,14,108,12,"response"],[22,22,108,20],[22,25,108,23],[22,31,108,29,"fetch"],[22,36,108,34],[22,37,108,35,"url"],[22,40,108,38],[22,42,108,40],[23,10,109,8],[23,13,109,11,"options"],[23,20,109,18],[24,10,110,8,"headers"],[24,17,110,15],[24,19,110,17],[25,12,111,10],[25,26,111,24],[25,28,111,26],[25,46,111,44],[26,12,112,10],[26,15,112,13,"options"],[26,22,112,20],[26,24,112,22,"headers"],[27,10,113,8],[28,8,114,6],[28,9,114,7],[28,10,114,8],[29,8,116,6],[29,12,116,10],[29,13,116,11,"response"],[29,21,116,19],[29,22,116,20,"ok"],[29,24,116,22],[29,26,116,24],[30,10,117,8],[30,16,117,14,"errorText"],[30,25,117,23],[30,28,117,26],[30,34,117,32,"response"],[30,42,117,40],[30,43,117,41,"text"],[30,47,117,45],[30,48,117,46],[30,49,117,47],[31,10,118,8,"console"],[31,17,118,15],[31,18,118,16,"error"],[31,23,118,21],[31,24,118,22],[31,39,118,37,"response"],[31,47,118,45],[31,48,118,46,"status"],[31,54,118,52],[31,59,118,57,"errorText"],[31,68,118,66],[31,70,118,68],[31,71,118,69],[32,10,119,8],[32,16,119,14],[32,20,119,18,"Error"],[32,25,119,23],[32,26,119,24],[32,40,119,38,"response"],[32,48,119,46],[32,49,119,47,"status"],[32,55,119,53],[32,61,119,59,"errorText"],[32,70,119,68],[32,72,119,70],[32,73,119,71],[33,8,120,6],[34,8,122,6],[34,14,122,12,"data"],[34,18,122,16],[34,21,122,19],[34,27,122,25,"response"],[34,35,122,33],[34,36,122,34,"json"],[34,40,122,38],[34,41,122,39],[34,42,122,40],[35,8,123,6,"console"],[35,15,123,13],[35,16,123,14,"log"],[35,19,123,17],[35,20,123,18],[35,37,123,35],[35,39,123,37,"data"],[35,43,123,41],[35,44,123,42],[36,8,124,6],[36,15,124,13,"data"],[36,19,124,17],[37,6,125,4],[37,7,125,5],[37,8,125,6],[37,15,125,13,"error"],[37,20,125,18],[37,22,125,20],[38,8,126,6,"console"],[38,15,126,13],[38,16,126,14,"error"],[38,21,126,19],[38,22,126,20],[38,45,126,43],[38,47,126,45,"error"],[38,52,126,50],[38,53,126,51],[39,8,127,6],[39,14,127,12,"error"],[39,19,127,17],[40,6,128,4],[41,4,129,2],[43,4,131,2],[44,4,132,2],[44,10,132,8,"createUser"],[44,20,132,18,"createUser"],[44,21,132,19,"payload"],[44,28,132,45],[44,30,132,62],[45,6,133,4],[45,13,133,11],[45,17,133,15],[45,18,133,16,"request"],[45,25,133,23],[45,26,133,30],[45,34,133,38],[45,36,133,40],[46,8,134,6,"method"],[46,14,134,12],[46,16,134,14],[46,22,134,20],[47,8,135,6,"body"],[47,12,135,10],[47,14,135,12,"JSON"],[47,18,135,16],[47,19,135,17,"stringify"],[47,28,135,26],[47,29,135,27,"payload"],[47,36,135,34],[48,6,136,4],[48,7,136,5],[48,8,136,6],[49,4,137,2],[50,4,139,2],[50,10,139,8,"getUser"],[50,17,139,15,"getUser"],[50,18,139,16,"userId"],[50,24,139,30],[50,26,139,47],[51,6,140,4],[51,13,140,11],[51,17,140,15],[51,18,140,16,"request"],[51,25,140,23],[51,26,140,30],[51,36,140,40,"userId"],[51,42,140,46],[51,44,140,48],[51,45,140,49],[52,4,141,2],[53,4,143,2],[53,10,143,8,"updateDrivingStatus"],[53,29,143,27,"updateDrivingStatus"],[53,30,143,28,"userId"],[53,36,143,42],[53,38,143,44,"isDriving"],[53,47,143,62],[53,49,143,95],[54,6,144,4],[54,13,144,11],[54,17,144,15],[54,18,144,16,"request"],[54,25,144,23],[54,26,144,46],[54,36,144,56,"userId"],[54,42,144,62],[54,72,144,92,"isDriving"],[54,81,144,101],[54,83,144,103],[54,85,144,105],[55,8,145,6,"method"],[55,14,145,12],[55,16,145,14],[56,6,146,4],[56,7,146,5],[56,8,146,6],[57,4,147,2],[58,4,149,2],[58,10,149,8,"getActiveDrivers"],[58,26,149,24,"getActiveDrivers"],[58,27,149,24],[58,29,149,57],[59,6,150,4],[59,13,150,11],[59,17,150,15],[59,18,150,16,"request"],[59,25,150,23],[59,26,150,45],[59,54,150,73],[59,55,150,74],[60,4,151,2],[62,4,153,2],[63,4,154,2],[63,10,154,8,"createDriverRoute"],[63,27,154,25,"createDriverRoute"],[63,28,154,26,"payload"],[63,35,154,53],[63,37,154,77],[64,6,155,4],[64,13,155,11],[64,17,155,15],[64,18,155,16,"request"],[64,25,155,23],[64,26,155,37],[64,42,155,53],[64,44,155,55],[65,8,156,6,"method"],[65,14,156,12],[65,16,156,14],[65,22,156,20],[66,8,157,6,"body"],[66,12,157,10],[66,14,157,12,"JSON"],[66,18,157,16],[66,19,157,17,"stringify"],[66,28,157,26],[66,29,157,27,"payload"],[66,36,157,34],[67,6,158,4],[67,7,158,5],[67,8,158,6],[68,4,159,2],[69,4,161,2],[69,10,161,8,"getActiveRoutes"],[69,25,161,23,"getActiveRoutes"],[69,26,161,23],[69,28,161,50],[70,6,162,4],[70,13,162,11],[70,17,162,15],[70,18,162,16,"request"],[70,25,162,23],[70,26,162,39],[70,49,162,62],[70,50,162,63],[71,4,163,2],[72,4,165,2],[72,10,165,8,"deactivateRoute"],[72,25,165,23,"deactivateRoute"],[72,26,165,24,"routeId"],[72,33,165,39],[72,35,165,72],[73,6,166,4],[73,13,166,11],[73,17,166,15],[73,18,166,16,"request"],[73,25,166,23],[73,26,166,46],[73,44,166,64,"routeId"],[73,51,166,71],[73,64,166,84],[73,66,166,86],[74,8,167,6,"method"],[74,14,167,12],[74,16,167,14],[75,6,168,4],[75,7,168,5],[75,8,168,6],[76,4,169,2],[78,4,171,2],[79,4,172,2],[79,10,172,8,"createRideRequest"],[79,27,172,25,"createRideRequest"],[79,28,172,26,"payload"],[79,35,172,59],[79,37,172,83],[80,6,173,4],[80,13,173,11],[80,17,173,15],[80,18,173,16,"request"],[80,25,173,23],[80,26,173,37],[80,42,173,53],[80,44,173,55],[81,8,174,6,"method"],[81,14,174,12],[81,16,174,14],[81,22,174,20],[82,8,175,6,"body"],[82,12,175,10],[82,14,175,12,"JSON"],[82,18,175,16],[82,19,175,17,"stringify"],[82,28,175,26],[82,29,175,27,"payload"],[82,36,175,34],[83,6,176,4],[83,7,176,5],[83,8,176,6],[84,4,177,2],[85,4,179,2],[85,10,179,8,"getDriverRequests"],[85,27,179,25,"getDriverRequests"],[85,28,179,26,"driverId"],[85,36,179,42],[85,38,179,82],[86,6,180,4],[86,13,180,11],[86,17,180,15],[86,18,180,16,"request"],[86,25,180,23],[86,26,180,53],[86,51,180,78,"driverId"],[86,59,180,86],[86,61,180,88],[86,62,180,89],[87,4,181,2],[88,4,183,2],[88,10,183,8,"acceptRideRequest"],[88,27,183,25,"acceptRideRequest"],[88,28,183,26,"requestId"],[88,37,183,43],[88,39,183,76],[89,6,184,4],[89,13,184,11],[89,17,184,15],[89,18,184,16,"request"],[89,25,184,23],[89,26,184,46],[89,44,184,64,"requestId"],[89,53,184,73],[89,62,184,82],[89,64,184,84],[90,8,185,6,"method"],[90,14,185,12],[90,16,185,14],[91,6,186,4],[91,7,186,5],[91,8,186,6],[92,4,187,2],[93,4,189,2],[93,10,189,8,"rejectRideRequest"],[93,27,189,25,"rejectRideRequest"],[93,28,189,26,"requestId"],[93,37,189,43],[93,39,189,76],[94,6,190,4],[94,13,190,11],[94,17,190,15],[94,18,190,16,"request"],[94,25,190,23],[94,26,190,46],[94,44,190,64,"requestId"],[94,53,190,73],[94,62,190,82],[94,64,190,84],[95,8,191,6,"method"],[95,14,191,12],[95,16,191,14],[96,6,192,4],[96,7,192,5],[96,8,192,6],[97,4,193,2],[99,4,195,2],[100,4,196,2],[100,10,196,8,"healthCheck"],[100,21,196,19,"healthCheck"],[100,22,196,19],[100,24,196,51],[101,6,197,4],[101,13,197,11],[101,17,197,15],[101,18,197,16,"request"],[101,25,197,23],[101,26,197,44],[101,35,197,53],[101,36,197,54],[102,4,198,2],[103,2,199,0],[104,2,201,7],[104,8,201,13,"apiService"],[104,18,201,23],[104,21,201,26],[104,25,201,30,"ApiService"],[104,35,201,40],[104,36,201,41],[104,37,201,42],[105,0,201,43],[105,3]],"functionMap":{"names":["<global>","ApiService","ApiService#constructor","ApiService#request","ApiService#createUser","ApiService#getUser","ApiService#updateDrivingStatus","ApiService#getActiveDrivers","ApiService#createDriverRoute","ApiService#getActiveRoutes","ApiService#deactivateRoute","ApiService#createRideRequest","ApiService#getDriverRequests","ApiService#acceptRideRequest","ApiService#rejectRideRequest","ApiService#healthCheck"],"mappings":"AAA;AC+F;ECG;GDE;EEE;GF0B;EGG;GHK;EIE;GJE;EKE;GLI;EME;GNE;EOG;GPK;EQE;GRE;ESE;GTI;EUG;GVK;EWE;GXE;EYE;GZI;EaE;GbI;EcG;GdE;CDC"},"hasCjsExports":false},"type":"js/module"}]}